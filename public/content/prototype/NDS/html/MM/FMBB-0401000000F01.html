<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>금융상품몰 서브메인</title>
    <link rel="stylesheet" href="../../../../assets/libs/swiper/dist/css/swiper.min.css">
    <link rel="stylesheet" href="../../../../assets/css/common-ui.css">
</head>
<body>
    <!-- (중요) 서브메인 페이지는 page div 에 submain-body 클래스 반드시 필요합니다 -->
<div class="page submain-body">
        <div class="container">
            <header class="header">
                <div class="inner">
                    <div class="funcs">
                        <button type="button" class="func -back"><span class="hide">뒤로가기</span></button>
                    </div>
                    <h1 class="title">금융상품몰</h1>
                    <div class="funcs">
                        <button type="button" class="func -home"><span class="hide">홈</span></button>
                        <button type="button" class="func -menu"><span class="hide">전체메뉴</span></button>
                    </div>
                </div>
            </header>

            <main class="contents">
                <div class="content pt-0">
                    <div class="submain-content">
                        <nav class="tabs -swipe">
                            <div class="outer -relative">
                                <div class="inner">
                                    <ul class="list tab -line -flexible">
                                        <li class="item -active"><a href="javascript:void(0)">저축</a></li>
                                        <li class="item"><a href="javascript:void(0)">대출</a></li>
                                        <li class="item"><a href="javascript:void(0)">펀드/투자</a></li>
                                        <li class="item"><a href="javascript:void(0)">외환</a></li>
                                        <li class="item"><a href="javascript:void(0)">보험</a></li>
                                        <li class="item"><a href="javascript:void(0)">퇴직연금</a></li>
                                    </ul>
                                </div>
                            </div>
                        </nav>

                        <!-- 서브메인 CMS 배너 -->
                        <!-- <div class="loadArea" data-includ="/content/nhbank/html/main/submain/dt_0400000000F01.html"></div> -->
                        <!-- //서브메인 CMS 배너 -->
                        
                        <!-- 서브메인 CMS 배너 샘플 -->
                        <!-- 배너영역 -->
                        <div class="case-wrap top-bann">
                            <div class="swiper swiper-number">
                                <div class="swiper-container main-swiper">
                                    <ul class="swiper-wrapper">
                                        <li class="swiper-slide" >
                                            <a href="javascript:void(0)" class="banner-swiper"
                                                onclick="javascript:parent.fn_goAllOnePage_Template('ABCUP1804R',{'event_no':'3726'},'ABNHFIN_0002','나무카드 이벤트')">
                                                <div class="wrap main-content sub type01">
                                                    <div class="main-banner">
                                                        <div class="banner-txt-wrap">
                                                            <div class="prd-title">복잡한 우대조건 없이<br>
                                                                목돈을 굴릴 수 있는
                                                            </div>
                                                            <div class="prd-sub">NH올원e예금</div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </a>
                                        </li>
                                        <li class="swiper-slide">                                      
                                            <a href="javascript:void(0)" class="banner-swiper"
                                                onclick="javascript:parent.fn_goAllOnePage_Template('ABCUP1804R',{'event_no':'4063'},'ABNHFIN_0001','손해보험 이벤트')">
                                                <div class="wrap main-content" style="background-color:#7f038d;">
                                                    <div class="main-banner type02">
                                                        <div class="hash-tag"><span>#전세대출</span><span>#갈아타기</span></div>
                                                        <div class="banner-txt-wrap">
                                                            <div class="prd-title">농협은행 전세대출<br>비교하고 갈아타자!</div>
                                                            <div class="prd-sub">NH모바일전세대출+</div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </a>                                  
                                        </li>
                                        <li class="swiper-slide">                                      
                                            <a href="javascript:void(0)" class="banner-swiper"
                                                onclick="javascript:parent.fn_goAllOnePage_Template('ABCUP1804R',{'event_no':'4063'},'ABNHFIN_0001','손해보험 이벤트')">
                                                <div class="wrap main-content" style="background-color:#f8d0e7;">
                                                    <div class="banner-content -ab-banner-1">
                                                        배너
                                                    </div>
                                                </div>
                                            </a>                                  
                                        </li>
                                    </ul>
    
                                    <div class="pagination-wrap indicator">
                                        <div class="swiper-pagination">
                                            <span class="swiper-pagination-current">1</span> <span class="swiper-pagination-total">3</span>
                                        </div>
                                        <a href="javascript:void(0);" class="button-stop" role="button">
                                            <span class="hide">정지</span>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- //배너영역 -->
                        <!-- // 서브메인 CMS 배너 -->

                        <!-- 탭바 영역 -->
                        <div class="submain-list">
                            <div class="submain-anc-tab">
                                <div class="subs -anchor">
                                    <div class="inner-wrap">
                                        <div class="inner">
                                            <div role="tablist" class="list">
                                                <div class="item"><button type="button" role="tab" aria-selected="true" aria-controls="subs-panel1" id="sub1">입출금</button></div>
                                                <div class="item -active"><button type="button" role="tab" aria-selected="false" aria-controls="subs-panel2" id="sub2">예금</button></div>
                                                <div class="item"><button type="button" role="tab" aria-selected="false" aria-controls="subs-panel3" id="sub3">적금</button></div>
                                                <div class="item"><button type="button" role="tab" aria-selected="false" aria-controls="subs-panel4" id="sub4">청약</button></div>
                                                <div class="item"><button type="button" role="tab" aria-selected="false" aria-controls="subs-panel5" id="sub5">지수연동예금</button></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="subs-panels">
                                    <div role="tabpanel" aria-labelledby="sub1" id="subs-panel1" class="subs-panel" tabindex="0">
                                        컨텐츠
                                    </div>
                                    <div role="tabpanel" aria-labelledby="sub2" id="subs-panel2" class="subs-panel -active" tabindex="0">
                                        <!-- 맞춤 예적금 상품 찾기 링크 -->
                                        <div class="deposit-find-wrap">
                                            <a class="deposit-find-button" href="javascript:void(0);" role="button" aria-haspopup="true">
                                                <div class="deposit-find-title">우대받을 수 있는 상품을 알려드려요.</div>
                                                <div class="deposit-find-sub">맞춤 예적금 상품 찾기</div>
                                                <span class="toast-mini">나에게 맞는 상품을 찾아보세요.
                                                    <button type="button" class="pop-delete"><span class="hide">삭제</span></button>
                                                </span>
                                            </a>
                                        </div>
                                        <!-- // 맞춤 예적금 상품 찾기 링크 -->
                                        <div class="sub-prod-list-units">
                                            <ul>
                                                <li>
                                                    <a href="javascript:void(0)" class="prod-txt-unit">
                                                        <div class="prod-txts">
                                                            <div class="title">NH올원e예금 <span class="badge line-green">올원전용</span></div>
                                                            <div class="sub">쉽게 목돈 굴릴 수 있는 대표 정기예금</div>
                                                            <div class="prod-info">
                                                                <span class="max">최고 4.05%</span><span class="def">기본 3.95%</span>
                                                            </div>
                                                        </div>
                                                    </a>
                                                </li>
                                                <li>
                                                    <a href="javascript:void(0)" class="prod-txt-unit">
                                                        <div class="prod-txts">
                                                            <div class="title">NH왈츠회전예금II</div>
                                                            <div class="sub">월단위 회전주기 선택해 실세금리적용</div>
                                                            <div class="prod-info">
                                                                <span class="max">최고 4.05%</span><span class="def">기본 3.95%</span>
                                                            </div>
                                                        </div>
                                                    </a>
                                                </li>
                                                <li>
                                                    <a href="javascript:void(0)" class="prod-txt-unit">
                                                        <div class="prod-txts">
                                                            <div class="title">큰만족실세예금</div>
                                                            <div class="sub">시장실세금리 반영해 만기까지 확정지급</div>
                                                            <div class="prod-info">
                                                                <span class="max">최고 4.05%</span><span class="def">기본 3.95%</span>
                                                            </div>
                                                        </div>
                                                    </a>
                                                </li>
                                            </ul>

                                        </div>

                                        <div class="case-wrap -xl">
                                            <div class="link -horizontal">
                                                <ul>
                                                    <li><a href="javascript:void(0)">우대금리 신청</a></li>
                                                    <li><a href="javascript:void(0)">계약서류 조회</a></li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    <div role="tabpanel" aria-labelledby="sub3" id="subs-panel3" class="subs-panel" tabindex="0">
                                        컨텐츠
                                    </div>
                                    <div role="tabpanel" aria-labelledby="sub4" id="subs-panel4" class="subs-panel" tabindex="0">
                                        컨텐츠
                                    </div>
                                    <div role="tabpanel" aria-labelledby="sub5" id="subs-panel5" class="subs-panel" tabindex="0">
                                        컨텐츠
                                    </div>
                                </div>
                            </div>                        
                        </div>
                        <!-- // 탭바 영역 -->
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script src="../../../../assets/libs/jquery/jquery-3.6.0.min.js"></script>
    <script src="../../../../assets/libs/anime/lib/anime.min.js"></script>
    <script src="../../../../assets/libs/swiper/dist/js/swiper.min.js"></script>
    <script src="../../../../assets/js/common-ui.js"></script>
    <script>
        // 스크롤 이벤트
        $(document).ready(
            function(){
                // page에 submain-body 클래스 반드시 필요
                $('.page').addClass('submain-body');
                var tabactive = $('.submain-content .tabs .item.-active a').text();
                $('.submain-body .header .title').after('<h1 class="sub-title" aria-hidden="true"></h1>');
                $('.submain-body .header .sub-title').text(tabactive);
                window.addEventListener('scroll',function () {
                var fixTab = document.querySelector('.submain-list');
                var fixTabTop = fixTab.getBoundingClientRect().top;
                var subheader = document.querySelector('.submain-body .header')
                var maintitle = document.querySelector('.submain-body .header .title')
                var subtitle = document.querySelector('.submain-body .header .sub-title')
                if (fixTabTop < 50) {
                    fixTab.classList.add('-fixed');
                }else{
                    fixTab.classList.remove('-fixed');
                }
        
                if(window.scrollY > 50 ){ 
                    subheader.classList.add('-switch');            
                    maintitle.setAttribute('aria-hidden','true');
                    subtitle.setAttribute('aria-hidden','false');
                }else{
                    subheader.classList.remove('-switch');
                    maintitle.setAttribute('aria-hidden','false');
                    subtitle.setAttribute('aria-hidden','true');
                }   
                     
                });
            }
        );
                
        // 메인배너
    var swiper = new Swiper(".swiper-container.main-swiper" , {
          pagination:  {
            el: ".swiper-pagination",
            clickable: true,
            type: "fraction",
        },
        observer: true,
        observerParents: true,
        // autoplay:{
        //     delay: 3000,
        // },
    });

    // test
        let mainSwiperWrapper = document.querySelector('.main-swiper'); 
        let swiperWrapper = mainSwiperWrapper.querySelector('.swiper-wrapper'); 
        let slides = mainSwiperWrapper.querySelectorAll('.swiper-slide');
        let totalSlides = mainSwiperWrapper.querySelectorAll('.swiper-slide').length; 
        let swiperPaginationWrapper = mainSwiperWrapper.querySelector('.pagination-wrap'); 
        let swiperPaginationCurrent = swiperPaginationWrapper.querySelector('.swiper-pagination-current'); 
        let swiperPaginationTotal = swiperPaginationWrapper.querySelector('.swiper-pagination-total'); 
        let stopButton = swiperPaginationWrapper.querySelector('.button-stop');

        let currentIndex = 0; 
        let isPaused = false;
        swiperPaginationTotal.textContent = totalSlides; 

        // 슬라이드에 접근성 텍스트
        slides.forEach((slide, index) => { 
            slide.setAttribute('aria-label', `5장 슬라이드 중 ${index + 1}번째 슬라이드`); 
        });
        
        function updateSwiper() { 
            swiperWrapper.style.transform = `translateX(-${currentIndex * 100}%)`; 
            swiperPaginationCurrent.textContent = currentIndex + 1;
        }

        function togglePause() { 
            isPaused = !isPaused; 
            if (isPaused) { 
                stopButton.classList.add('-pause'); 
                stopButton.querySelector('.hide').textContent = '재생'; 
                stopButton.setAttribute('aria-label', '재생');
                clearInterval(swiperInterval); 
            } else { 
                stopButton.classList.remove('-pause'); 
                stopButton.querySelector('.hide').textContent = '정지'; 
                stopButton.setAttribute('aria-label', '정지');
                swiperInterval = setInterval(nextSlide, 3000); 
            } 
        }

        function nextSlide() { 
            currentIndex = (currentIndex + 1) % totalSlides; 
            updateSwiper();
        }
        
        function prevSlide() { 
            currentIndex = (currentIndex - 1 + totalSlides) % totalSlides; 
            updateSwiper();
        }

        let swiperInterval = setInterval(nextSlide, 3000);

        stopButton.addEventListener('click', togglePause); 
        swiperPaginationCurrent.addEventListener('click', () => { 
            clearInterval(swiperInterval); 
            prevSlide(); 
            if (!isPaused) { 
                swiperInterval = setInterval(nextSlide, 3000); 
            } 
        }); 
        
        swiperPaginationTotal.addEventListener('click', () => { 
            clearInterval(swiperInterval); 
            nextSlide(); 
            if (!isPaused) { 
                swiperInterval = setInterval(nextSlide, 3000); 
            }
        });
    </script>
    
</body>
</html>