<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title></title>
    <link rel="stylesheet" href="../../assets/libs/swiper/dist/css/swiper.min.css">
    <link rel="stylesheet" href="../../assets/css/common-ui.css">
</head>
<body>
    <div class="page">
        <div class="container">
            <header class="header">                
                <div class="inner">
                    <h1 class="title">앵커탭</h1>

                    <div class="funcs">
                        <button type="button" class="func -close"><span class="hide">닫기</span></button>
                    </div>
                </div>
            </header>

            <main class="contents">
                <!-- -hidden 옵션 -->
                <div class="anchors">
                    <div class="outer">
                        <div class="inner">
                            <ul class="list">
                                <li class="item -active"><a href="#section1">금융</a></li>
                                <li class="item"><a href="#section2">계좌관리</a></li>
                                <li class="item"><a href="#section3">NH금융그룹</a></li>
                                <li class="item"><a href="#section4">NH마이데이터</a></li>
                                <li class="item"><a href="#section5">상품</a></li>
                                <li class="item"><a href="#section6">결제</a></li>
                                <li class="item"><a href="#section7">외환</a></li>
                                <li class="item"><a href="#section8">공과금/스마트고지</a></li>
                                <li class="item"><a href="#section9">생활+</a></li>
                            </ul>
                        </div>
                        <button type="button" class="more"><span class="hide">더보기</span></button>
                    </div>
                </div>

                <div class="content">
                    <div class="section-wrap">
                        <div id="section1" class="sections">
                            <div class="field">
                                <p class="label">111111111111111111111111111111111111111111111</p>
                                <div class="select">
                                    <button type="button">
                                        <div class="selection">
                                            <div data-bankcode="011" class="info py-50">
                                                <span class="name">
                                                    <span>주거래우대통장</span>
                                                </span>
                                                <span class="account-number">
                                                    <span>NH농협</span>
                                                    <span class="number">111-1234-5678-99</span>
                                                </span>
                                            </div>
                                            <div class="amount">
                                                <div class="key">출금가능금액</div>
                                                <div class="value">
                                                    <span class="number">150,000,000</span>원
                                                </div>
                                            </div>
                                        </div>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div id="section2" class="sections">
                            <div class="field">
                                <p class="label">2222222222222222222222222222222222222222222</p>
                                <div class="select">
                                    <button type="button">
                                        <div class="selection">
                                            <div data-bankcode="011" class="info py-50">
                                                <span class="name">
                                                    <span>주거래우대통장</span>
                                                </span>
                                                <span class="account-number">
                                                    <span>NH농협</span>
                                                    <span class="number">111-1234-5678-99</span>
                                                </span>
                                            </div>
                                            <div class="amount">
                                                <div class="key">출금가능금액</div>
                                                <div class="value">
                                                    <span class="number">150,000,000</span>원
                                                </div>
                                            </div>
                                        </div>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div id="section3" class="sections">
                            <div class="field">
                                <p class="label">333333333333333333333333333333333</p>
                                <div class="select">
                                    <button type="button">
                                        <div class="selection">
                                            <div data-bankcode="011" class="info py-50">
                                                <span class="name">
                                                    <span>주거래우대통장</span>
                                                </span>
                                                <span class="account-number">
                                                    <span>NH농협</span>
                                                    <span class="number">111-1234-5678-99</span>
                                                </span>
                                            </div>
                                            <div class="amount">
                                                <div class="key">출금가능금액</div>
                                                <div class="value">
                                                    <span class="number">150,000,000</span>원
                                                </div>
                                            </div>
                                        </div>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div id="section4" class="sections">
                            <div class="field">
                                <p class="label">44444444444444444444444444444444444</p>
                                <div class="select">
                                    <button type="button">
                                        <div class="selection">
                                            <div data-bankcode="011" class="info py-50">
                                                <span class="name">
                                                    <span>주거래우대통장</span>
                                                </span>
                                                <span class="account-number">
                                                    <span>NH농협</span>
                                                    <span class="number">111-1234-5678-99</span>
                                                </span>
                                            </div>
                                            <div class="amount">
                                                <div class="key">출금가능금액</div>
                                                <div class="value">
                                                    <span class="number">150,000,000</span>원
                                                </div>
                                            </div>
                                        </div>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div id="section5" class="sections">
                            <div class="field">
                                <p class="label">55555555555555555555555</p>
                                <div class="select">
                                    <button type="button">
                                        <div class="selection">
                                            <div data-bankcode="011" class="info py-50">
                                                <span class="name">
                                                    <span>주거래우대통장</span>
                                                </span>
                                                <span class="account-number">
                                                    <span>NH농협</span>
                                                    <span class="number">111-1234-5678-99</span>
                                                </span>
                                            </div>
                                            <div class="amount">
                                                <div class="key">출금가능금액</div>
                                                <div class="value">
                                                    <span class="number">150,000,000</span>원
                                                </div>
                                            </div>
                                        </div>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div id="section6" class="sections">
                            <div class="field">
                                <p class="label">66666666666666666666666666666666</p>
                                <div class="select">
                                    <button type="button">
                                        <div class="selection">
                                            <div data-bankcode="011" class="info py-50">
                                                <span class="name">
                                                    <span>주거래우대통장</span>
                                                </span>
                                                <span class="account-number">
                                                    <span>NH농협</span>
                                                    <span class="number">111-1234-5678-99</span>
                                                </span>
                                            </div>
                                            <div class="amount">
                                                <div class="key">출금가능금액</div>
                                                <div class="value">
                                                    <span class="number">150,000,000</span>원
                                                </div>
                                            </div>
                                        </div>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div id="section7" class="sections">
                            <div class="field">
                                <p class="label">77777777777777777777777777777</p>
                                <div class="select">
                                    <button type="button">
                                        <div class="selection">
                                            <div data-bankcode="011" class="info py-50">
                                                <span class="name">
                                                    <span>주거래우대통장</span>
                                                </span>
                                                <span class="account-number">
                                                    <span>NH농협</span>
                                                    <span class="number">111-1234-5678-99</span>
                                                </span>
                                            </div>
                                            <div class="amount">
                                                <div class="key">출금가능금액</div>
                                                <div class="value">
                                                    <span class="number">150,000,000</span>원
                                                </div>
                                            </div>
                                        </div>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div id="section8" class="sections">
                            <div class="field">
                                <p class="label">8888888888888888888888888888</p>
                                <div class="select">
                                    <button type="button">
                                        <div class="selection">
                                            <div data-bankcode="011" class="info py-50">
                                                <span class="name">
                                                    <span>주거래우대통장</span>
                                                </span>
                                                <span class="account-number">
                                                    <span>NH농협</span>
                                                    <span class="number">111-1234-5678-99</span>
                                                </span>
                                            </div>
                                            <div class="amount">
                                                <div class="key">출금가능금액</div>
                                                <div class="value">
                                                    <span class="number">150,000,000</span>원
                                                </div>
                                            </div>
                                        </div>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div id="section9" class="sections">
                            <div class="field">
                                <p class="label">999999999999999999999</p>
                                <div class="select">
                                    <button type="button">
                                        <div class="selection">
                                            <div data-bankcode="011" class="info py-50">
                                                <span class="name">
                                                    <span>주거래우대통장</span>
                                                </span>
                                                <span class="account-number">
                                                    <span>NH농협</span>
                                                    <span class="number">111-1234-5678-99</span>
                                                </span>
                                            </div>
                                            <div class="amount">
                                                <div class="key">출금가능금액</div>
                                                <div class="value">
                                                    <span class="number">150,000,000</span>원
                                                </div>
                                            </div>
                                        </div>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script src="../../assets/libs/jquery/jquery-3.6.0.min.js"></script>
    <script src="../../assets/libs/anime/lib/anime.min.js"></script>
    <script src="../../assets/libs/swiper/dist/js/swiper.min.js"></script>
    <script src="../../assets/js/common-ui.js"></script>
    <script>
        var offsetArray = []   // 배열
        var offsetSequence = 0 // 배열 index 번호
        var minusAnchorsRange = $('.anchors').outerHeight();
        var minusHeaderRange = $('.header').outerHeight() + 50;
        var minusAllRange = minusHeaderRange + minusAnchorsRange
        $('.sections').each(function(){
            offsetArray.push( Math.floor( $(this).offset().top ) );
        });
        $(document).on('click', '.anchors .more', function(e){
            $('.anchors').toggleClass('-active').find('.inner').scrollLeft( $('.anchors .item.-active').offset().left - $('.anchors .item').offset().left );
        })
        $(window).on('scroll', UI.throttle(function(e){
            var target = $(e.target)
            if( target.scrollTop() + minusAllRange >= offsetArray[0]){
                $('.anchors').addClass('-show');
            } else {
                $('.anchors').removeClass('-show');
            }
            if(target.scrollTop() + minusAllRange > offsetArray[offsetSequence]){
                if(offsetSequence < offsetArray.length - 1){
                    offsetSequence += 1;
                }
            }
            if(target.scrollTop() + minusAllRange < offsetArray[offsetSequence]){
                if(offsetSequence != 0){
                    offsetSequence -= 1;
                }
            }
            $('.anchors .item').removeClass('-active');
            $('.anchors .item').eq(offsetSequence).addClass('-active');
            anime({
                targets: '.anchors .inner',
                easing: 'easeOutCirc',
                duration: 400,
                scrollLeft: $('.anchors .item.-active').offset().left - $('.anchors .item').offset().left
            });
        },100))
        $(document).on('click', '.anchors .item', function(e){
            e.preventDefault();
            var target = $(e.target);
            var targetIndex = target.closest('.item').index();
            offsetSequence = targetIndex;
            // $(window).scrollTop(offsetArray[offsetSequence] - minusHeaderRange ) ;W
            $('html,body').stop().animate({scrollTop:offsetArray[offsetSequence] - minusHeaderRange},100, 'linear')
            anime({
                targets: '.anchors .inner',
                easing: 'easeOutCirc',
                duration: 400,
                scrollLeft: $('.anchors .item.-active').offset().left - $('.anchors .item').offset().left
            });
            target.closest('.anchors').removeClass('-active');
        });        
    </script>
</body>
</html>
